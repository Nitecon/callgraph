<idea-plugin>
    <id>com.nitecon.callgraph</id>
    <name>C++ Call Graph</name>
    <vendor email="nitecon@example.com" url="https://github.com/Nitecon/callgraph">Nitecon</vendor>

    <description><![CDATA[
        <p>A powerful call graph visualization tool for C++ projects in IntelliJ Rider.</p>
        <p>Features:</p>
        <ul>
            <li>Visualize inbound and outbound calls for any C++ class</li>
            <li>Interactive graph display with class relationships</li>
            <li>Context menu integration for easy access</li>
            <li>Navigate through complex codebases efficiently</li>
        </ul>
        <p>Right-click on any C++ class and select "Show Call Graph" to analyze its dependencies and usage.</p>
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.cidr.base</depends>
    <depends>com.intellij.clion</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Tool window for displaying call graph -->
        <toolWindow id="Call Graph" 
                    factoryClass="com.nitecon.callgraph.ui.CallGraphToolWindowFactory"
                    anchor="right" 
                    icon="/icons/callgraph.svg"/>
        
        <!-- Application service for call graph analysis -->
        <applicationService 
            serviceInterface="com.nitecon.callgraph.service.CallGraphService"
            serviceImplementation="com.nitecon.callgraph.service.CallGraphServiceImpl"/>
    </extensions>

    <actions>
        <!-- Context menu action for C++ files -->
        <action id="ShowCallGraph" 
                class="com.nitecon.callgraph.action.ShowCallGraphAction" 
                text="Show Call Graph"
                description="Display call graph for the selected C++ class">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl shift G"/>
        </action>
    </actions>
</idea-plugin>